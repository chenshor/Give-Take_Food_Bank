<CreateAccountWindow>:
    name: "create"

    nameUser: nameUser
    email: email
    password: password

    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'images/fruit.jpg'

    FloatLayout:
        cols:1

        FloatLayout:
            size: root.width, root.height/2

            Label:
                text: "Create an Account"
                size_hint: 0.8, 0.2
                color: .2, .1, .73, 1
                pos_hint: {"x":0.1, "y":0.85}
                font_size: (root.width**2 + root.height**2) / 14**4

            Label:
                size_hint: 0.5,0.12
                pos_hint: {"x":-0.1, "y":0.75}
                text: "User Name: "
                color: .2, .1, .73, 1
                font_size: (root.width**2 + root.height**2) / 14**4

            TextInput:
                pos_hint: {"x":0.4, "y":0.75}
                size_hint: 0.55, 0.12
                id: nameUser
                multiline: False
                font_size: (root.width**2 + root.height**2) / 14**4

            Label:
                size_hint: 0.5,0.12
                pos_hint: {"x":-0.13, "y":0.58}
                text: "Email: "
                color: .2, .1, .73, 1
                font_size: (root.width**2 + root.height**2) / 14**4

            TextInput:
                pos_hint: {"x":0.4, "y":0.6}
                size_hint: 0.55, 0.12
                id: email
                multiline: False
                font_size: (root.width**2 + root.height**2) / 14**4

            Label:
                size_hint: 0.5,0.12
                pos_hint: {"x":-0.1, "y":0.45}
                text: "Password: "
                color: .2, .1, .73, 1
                font_size: (root.width**2 + root.height**2) / 14**4

            TextInput:
                pos_hint: {"x":0.4, "y":0.45}
                size_hint: 0.55, 0.12
                id: password
                multiline: False
                password: True
                font_size: (root.width**2 + root.height**2) / 14**4

        Button:
            pos_hint:{"x":0.28,"y":0.07}
            size_hint: 0.4, 0.1
            font_size: (root.width**2 + root.height**2) / 16**4
            text: "Already have an Account?\n    Log In"
            color: .2, .1, .73, 1
            background_color: 0, 0, 0, 0
            on_release:
                root.manager.transition.direction = "left"
                root.login()

        Button:
            pos_hint:{"x":0.25,"y":0.13}
            size_hint: 0.5, 0.3
            text: "Submit"
            font_size: (root.width**2 + root.height**2) / 14**4
            background_normal: "images/orange.png"
            background_down: "images/orange.png"
            on_release:
                root.manager.transition.direction = "left"
                root.submit()

<DataWindow>:
    name: "DataPage"
    FloatLayout:
        Label:
            text:"Data Page"
            font_size: (root.width**2 + root.height**2) / 13**4
            pos_hint: {"x":0.3, "top":1}
            size_hint: 0.35, 0.15

        Button:
            id: options
            text: root.button_text4
            size: (200, 50)
            size_hint: 0.5, 0.1
            pos_hint: {"x": 0.15 , "top":0.85}
            on_release: root.open_drop_down(self)

        Button:
            pos_hint:{"x":0.65, "y": 0.75}
            size_hint:0.2,0.1
            text: "show graphs"
            on_release:
                root.show_graphs()

        Button:
            pos_hint:{"x":0.4, "y": 0.0}
            size_hint:0.2,0.1
            text: "Back"
            on_release:
                root.Back()
                app.root.current = "main"
                root.manager.transition.direction = "up"

<AboutWindow>:
    FloatLayout:
        AnchorLayout:
            anchor_x: 'left'
            anchor_y: 'top'

            Image:
                source: "images/yiftah.png"
                size_hint: None, None
                pos_hint:{"center_x":0.1,"y":0.8}
                size: 400, 400

        Label:
            text:"Yiftah Szoke\n A fourth-year student in Software and Information\n Systems Engineering\n I like to play football in my free time"
            font_size: (root.width**2 + root.height**2) / 16**4
            pos_hint: {"x":0.1, "top":0.3}
            size_hint: 0.35, 0.15

        AnchorLayout:
            anchor_x: 'right'
            anchor_y: 'top'

            Image:
                source: "images/yiftah.png"
                size_hint: None, None
                pos_hint:{"center_x":0.1,"y":0.8}
                size: 400, 400

        Label:
            text:"Chen Shoresh"
            font_size: (root.width**2 + root.height**2) / 16**4
            pos_hint: {"x":0.7, "top":0.3}
            size_hint: 0.35, 0.15

        Button:
            pos_hint:{"x":0.4, "y": 0.0}
            size_hint:0.2,0.1
            text: "Back"
            on_release:
                app.root.current = "main"
                root.manager.transition.direction = "up"

<CustomDropDown>:
    id: dropdown
    on_select:
        app.root.ids.btn.text = '{}'.format(args[1])

<SearchWindow>:

    name: "search"
    category: category
    location: location
    result: result

    FloatLayout:
        cols:5
        size: root.width, root.height/2


        Label:
            text: "Search Items"
            size_hint: 0.8, 0.2
            pos_hint: {"x":0.05, "top":1.05}
            font_size: (root.width**2 + root.height**2) / 14**4

        Label:
            text:"Category: "
            font_size: (root.width**2 + root.height**2) / 14**4
            pos_hint: {"x":-0.125, "top":0.80}
            size_hint: 0.5,0.12

        Button:
            id: category
            text: root.button_text
            size: (200, 50)
            size_hint: 0.5, 0.06
            pos_hint: {"x": 0.3 , "top":0.76}
            on_release: root.open_drop_down(self)

        Label:
            text:"Location: "
            font_size: (root.width**2 + root.height**2) / 14**4
            pos_hint: {"x":-0.13, "top":0.7}
            size_hint: 0.5,0.12

        TextInput:
            id: location
            font_size: (root.width**2 + root.height**2) / 13**4
            multiline: False
            password: True
            pos_hint: {"x": 0.3, "top":0.66}
            size_hint: 0.5, 0.06

        Button:
            id: location
            text: root.button_text2
            size: (200, 50)
            size_hint: 0.5, 0.06
            pos_hint: {"x": 0.3, "top":0.66}
            on_release: root.open_drop_down2(self)


        Label:
            id: result
            text:""
            font_size: (root.width**2 + root.height**2) / 14**4
            pos_hint: {"x":0.3, "top":0.50}
            size_hint: 0.5,0.12

        Button:
            pos_hint:{"x":0.2,"y":0.1}
            size_hint: 0.2,0.1
            text: "Search"
            on_release:
                root.manager.transition.direction = "up"
                root.Search()

        Button:
            pos_hint:{"x":0.6, "y": 0.1}
            size_hint:0.2,0.1
            text: "Back"

            on_release:
                root.Back()
                app.root.current = "main"
                root.manager.transition.direction = "up"

<CustomDropDown1>:
    padding: [0,0,0,0]
    Button:
        text:"Vegetables and fruits"
        size:(200,50)
        size_hint:(None,None)
        text_size: self.size
        valign: 'center'
        padding: (10,0)
        on_release: root.select(self.text)
    Button:
        text:"Dairy"
        size:(200,50)
        size_hint:(None,None)
        text_size: self.size
        valign: 'center'
        padding: (10,0)
        on_release: root.select(self.text)
    Button:
        text:"Meat and fish"
        size:(200,50)
        size_hint:(None,None)
        text_size: self.size
        valign: 'center'
        padding: (10,0)
        on_release: root.select(self.text)
    Button:
        text:"Dry products"
        size:(200,50)
        size_hint:(None,None)
        text_size: self.size
        valign: 'center'
        padding: (10,0)
        on_release: root.select(self.text)
    Button:
        text:"Other"
        size:(200,50)
        size_hint:(None,None)
        text_size: self.size
        valign: 'center'
        padding: (10,0)
        on_release: root.select(self.text)

<CustomDropDown2>:
    padding: [0,0,0,0]
    Button:
        text:"University"
        size:(200,50)
        size_hint:(None,None)
        text_size: self.size
        valign: 'center'
        padding: (10,0)
        on_release: root.select(self.text)
    Button:
        text:"Big Center"
        size:(200,50)
        size_hint:(None,None)
        text_size: self.size
        valign: 'center'
        padding: (10,0)
        on_release: root.select(self.text)
    Button:
        text:"Grand Mall"
        size:(200,50)
        size_hint:(None,None)
        text_size: self.size
        valign: 'center'
        padding: (10,0)
        on_release: root.select(self.text)

    Button:
        text:"Old City"
        size:(200,50)
        size_hint:(None,None)
        text_size: self.size
        valign: 'center'
        padding: (10,0)
        on_release: root.select(self.text)
    Button:
        text:"Oren Center"
        size:(200,50)
        size_hint:(None,None)
        text_size: self.size
        valign: 'center'
        padding: (10,0)
        on_release: root.select(self.text)

<CustomDropDown3>:
    padding: [0,0,0,0]
    Button:
        text:"1"
        size:(200,50)
        size_hint:(None,None)
        text_size: self.size
        valign: 'center'
        padding: (10,0)
        on_release: root.select(self.text)
    Button:
        text:"2"
        size:(200,50)
        size_hint:(None,None)
        text_size: self.size
        valign: 'center'
        padding: (10,0)
        on_release: root.select(self.text)
    Button:
        text:"3"
        size:(200,50)
        size_hint:(None,None)
        text_size: self.size
        valign: 'center'
        padding: (10,0)
        on_release: root.select(self.text)
    Button:
        text:"4"
        size:(200,50)
        size_hint:(None,None)
        text_size: self.size
        valign: 'center'
        padding: (10,0)
        on_release: root.select(self.text)
    Button:
        text:"5+"
        size:(200,50)
        size_hint:(None,None)
        text_size: self.size
        valign: 'center'
        padding: (10,0)
        on_release: root.select(self.text)

<StartWindow>
    name: "StartWindow"

    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'images/c.jpg'

    FloatLayout:

        Button:
            pos_hint:{"x":-0.1, "y": 0.25}
            size_hint:0.35,0.3
            text: "  Login"
            background_normal: "images/green.png"
            background_down: "images/green.png"
            on_press:
                background_color=0,0,0,0
                app.root.current = "login"
                root.manager.transition.direction = "right"


        Button:
            pos_hint:{"x":0.13, "y": 0.25}
            size_hint:0.35,0.3
            text: "  Register"
            background_normal: "images/green.png"
            background_down: "images/green.png"
            on_press:
                background_color=0,0,0,0
                app.root.current = "create"
                root.manager.transition.direction = "left"



<CustomDropDown4>:
    padding: [0,0,0,0]
    Button:
        text:"Location"
        size:(200,50)
        size_hint:(None,None)
        text_size: self.size
        valign: 'center'
        padding: (10,0)
        on_release: root.select(self.text)
    Button:
        text:"Category"
        size:(200,50)
        size_hint:(None,None)
        text_size: self.size
        valign: 'center'
        padding: (10,0)
        on_release: root.select(self.text)

    Button:
        text:"Amounts"
        size:(200,50)
        size_hint:(None,None)
        text_size: self.size
        valign: 'center'
        padding: (10,0)
        on_release: root.select(self.text)


<LoginWindow>:
    name: "login"

    name1: name1
    password: password

    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'images/fruit.jpg'

    FloatLayout:

        Label:
            text:"User Name: "
            color: .2, .1, .73, 1
            font_size: (root.width**2 + root.height**2) / 13**4
            pos_hint: {"x":0.0, "top":0.9}
            size_hint: 0.35, 0.15

        TextInput:
            id: name1
            font_size: (root.width**2 + root.height**2) / 13**4
            multiline: False
            pos_hint: {"x": 0.45 , "top":0.9}
            size_hint: 0.4, 0.15

        Label:
            text:"Password: "
            color: .2, .1, .73, 1
            font_size: (root.width**2 + root.height**2) / 13**4
            pos_hint: {"x":0.0, "top":0.7}
            size_hint: 0.35, 0.15

        TextInput:
            id: password
            font_size: (root.width**2 + root.height**2) / 13**4
            multiline: False
            password: True
            pos_hint: {"x": 0.45, "top":0.7}
            size_hint: 0.4, 0.15


        Button:
            pos_hint:{"x":0.15,"y":0.2}
            size_hint: 0.6, 0.4
            font_size: (root.width**2 + root.height**2) / 13**4
            text: " Login"
            background_normal: "images/orange.png"
            background_down: "images/orange.png"
            on_press:
                background_color=0,0,0,0
                root.manager.transition.direction = "up"
                root.loginBtn()

        Button:
            pos_hint:{"x":0.27,"y":0.21}
            size_hint: 0.4, 0.1
            color: .2, .1, .73, 1
            font_size: (root.width**2 + root.height**2) / 16**4
            text: "Don't have an Account?\n    Create One!"
            background_color: 0, 0, 0, 0
            on_release:
                root.manager.transition.direction = "right"
                root.createBtn()


<MainWindow>:
    name1: name1

    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'images/donate.png'

    FloatLayout:
        Label:
            id: name1
            pos_hint:{"x": 0.1, "top":0.9}
            size_hint:0.8, 0.2
            text: "Hello: "
            color: 0,0,0,1


        Button:
            pos_hint:{"x":0.1, "y": 0.35}
            size_hint:0.4,0.2
            text: "My Posts"
            background_normal: "images/cirrcleY.png"
            background_down: "images/cirrcleY.png"
            on_press:
                background_color=0,0,0,0
                app.root.current = "MyPostsWindow"
                root.manager.transition.direction = "down"



        Button:
            pos_hint:{"x":0.25, "y": 0.35}
            size_hint:0.5,0.2
            text: "Publish New Item"
            background_normal: "images/cirrcleY.png"
            background_down: "images/cirrcleY.png"
            on_release:
                app.root.current = "publish"
                root.manager.transition.direction = "down"
        Button:
            pos_hint:{"x":0.5, "y": 0.35}
            size_hint:0.4,0.2
            text: "Search"
            background_normal: "images/cirrcleY.png"
            background_down: "images/cirrcleY.png"
            on_release:
                app.root.current = "SearchPage"
                root.manager.transition.direction = "down"

        Button:
            pos_hint:{"x":0.2, "y": 0.15}
            size_hint:0.4,0.2
            text: "Data"
            background_normal: "images/cirrcleY.png"
            background_down: "images/cirrcleY.png"
            on_release:
                app.root.current = "DataPage"
                root.manager.transition.direction = "down"
        Button:
            pos_hint:{"x":0.4, "y": 0.15}
            size_hint:0.4,0.2
            text: "About Us"
            background_normal: "images/cirrcleY.png"
            background_down: "images/cirrcleY.png"
            on_release:
                app.root.current = "AboutPage"
                root.manager.transition.direction = "down"
        Button:
            pos_hint:{"x":0.7, "y": 0.8}
            size_hint:0.4,0.2
            text: "Log Out"
            background_normal: "images/cirrcleY.png"
            background_down: "images/cirrcleY.png"
            on_release:
                app.root.current = "StartWindow"
                root.manager.transition.direction = "down"



<PublishWindow>:
    name: "publish"
    category: category
    itemName: itemName
    amount: amount
    location: location

    FloatLayout:
        cols:5
        size: root.width, root.height/2

        Label:
            text: "Publish A New Item"
            size_hint: 0.8, 0.2
            pos_hint: {"x":0.05, "top":1.05}
            font_size: (root.width**2 + root.height**2) / 14**4

        Label:
            text:"Item's Name: "
            font_size: (root.width**2 + root.height**2) / 14**4
            pos_hint: {"x":-0.13, "top":0.90}
            size_hint: 0.5,0.12

        TextInput:
            pos_hint: {"x":0.3, "top":0.86}
            size_hint: 0.5, 0.06
            id: itemName
            multiline: False
            font_size: (root.width**2 + root.height**2) / 14**4

        Label:
            text:"Category: "
            font_size: (root.width**2 + root.height**2) / 14**4
            pos_hint: {"x":-0.125, "top":0.80}
            size_hint: 0.5,0.12

        Button:
            id: category
            text: root.button_text
            size: (200, 50)
            size_hint: 0.5, 0.06
            pos_hint: {"x": 0.3 , "top":0.76}
            on_release: root.open_drop_down(self)

        Label:
            text:"Amount: "
            font_size: (root.width**2 + root.height**2) / 14**4
            pos_hint: {"x":-0.13, "top":0.7}
            size_hint: 0.5,0.12

        Button:
            id: amount
            text: root.button_text3
            size: (200, 50)
            size_hint: 0.5, 0.06
            pos_hint: {"x": 0.3 , "top":0.66}
            on_release: root.open_drop_down3(self)

        Label:
            text:"Location: "
            font_size: (root.width**2 + root.height**2) / 14**4
            pos_hint: {"x":-0.13, "top":0.6}
            size_hint: 0.5,0.12

        TextInput:
            id: location
            font_size: (root.width**2 + root.height**2) / 13**4
            multiline: False
            password: True
            pos_hint: {"x": 0.3, "top":0.56}
            size_hint: 0.5, 0.06

        Button:
            id: location
            text: root.button_text2
            size: (200, 50)
            size_hint: 0.5, 0.06
            pos_hint: {"x": 0.3, "top":0.56}
            on_release: root.open_drop_down2(self)

        Button:
            pos_hint:{"x":0.2,"y":0.1}
            size_hint: 0.2,0.1
            text: "Publish"
            on_release:
                root.manager.transition.direction = "right"
                root.publishItem()

        Button:
            pos_hint:{"x":0.6, "y": 0.1}
            size_hint:0.2,0.1
            text: "Back"
            on_release:
                app.root.current = "main"
                root.manager.transition.direction = "up"
<MyPostsWindow>:

    FloatLayout:
        Label:
            text:"My Posts"
            size_hint: 0.8, 0.2
            pos_hint: {"x":0.07, "top":1.05}
            font_size: (root.width**2 + root.height**2) / 14**4

        Label:
            text:"Please choose the Item that you want to update:"
            size_hint: 0.8, 0.2
            pos_hint: {"x":-0.05, "top":0.95}
            font_size: (root.width**2 + root.height**2) / 15**4


        Button:
            pos_hint:{"x":0.4, "y": 0.0}
            size_hint:0.2,0.1
            text: "Back"
            on_release:
                app.root.current = "main"
                root.manager.transition.direction = "up"

<updateItemWindow>
    amount: amount
    location: location
    nameI: nameI

    FloatLayout:
        cols:5
        size: root.width, root.height/2

        Label:
            text: "Publish A New Item"
            size_hint: 0.8, 0.2
            pos_hint: {"x":0.05, "top":1.05}
            font_size: (root.width**2 + root.height**2) / 14**4

        Label:
            id: nameI
            text:"Item's Name: "
            font_size: (root.width**2 + root.height**2) / 14**4
            pos_hint: {"x":-0.13, "top":0.90}
            size_hint: 0.5,0.12

        Label:
            text:"Amount: "
            font_size: (root.width**2 + root.height**2) / 14**4
            pos_hint: {"x":-0.13, "top":0.7}
            size_hint: 0.5,0.12

        Button:
            id: amount
            text: root.button_text3
            size: (200, 50)
            size_hint: 0.5, 0.06
            pos_hint: {"x": 0.3 , "top":0.66}
            on_release: root.open_drop_down3(self)

        Label:
            text:"Location: "
            font_size: (root.width**2 + root.height**2) / 14**4
            pos_hint: {"x":-0.13, "top":0.6}
            size_hint: 0.5,0.12

        TextInput:
            id: location
            font_size: (root.width**2 + root.height**2) / 13**4
            multiline: False
            password: True
            pos_hint: {"x": 0.3, "top":0.56}
            size_hint: 0.5, 0.06
        Button:
            id: location
            text: root.button_text2
            size: (200, 50)
            size_hint: 0.5, 0.06
            pos_hint: {"x": 0.3, "top":0.56}
            on_release: root.open_drop_down2(self)

        Button:
            pos_hint:{"x":0.2,"y":0.1}
            size_hint: 0.2,0.1
            text: "Update"
            on_release:
                root.manager.transition.direction = "right"
                root.updateItem()

        Button:
            pos_hint:{"x":0.6, "y": 0.1}
            size_hint:0.2,0.1
            text: "Back"
            on_release:
                app.root.current = "main"
                root.manager.transition.direction = "up"

